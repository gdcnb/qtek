<html>
<head>
    <title></title>
    <meta charset="utf-8">
    <script type="text/javascript" src="../../thirdparty/require.js"></script>
</head>
<body>
    <canvas id="Main"></canvas>
    <script type="text/javascript">
        requirejs.config({
            'baseUrl' : '../../src',
            'paths' : {
                '_' : '../thirdparty/lodash.compat',
                'glmatrix' : '../thirdparty/gl-matrix'
            },
            'shim' : {
                '_' : {
                    exports : '_'
                }
            }
        })

        require(['qtek',
                'text!../tests/2d/assets/complex2.svg'], function(qtek, svgData){
            var qtek2d = qtek['2d'];

            var svgLoader = new qtek.loader.SVG();
            var node = svgLoader.parse(svgData);

            var canvas = document.getElementById("Main");
            var renderer = new qtek2d.Renderer({
                canvas : canvas,
                width : 1024,
                height : 600
            });

            var scene = new qtek2d.Scene();
            scene.add(node);
            node.style = new qtek2d.Style({
                globalCompositeOperation : 'xor'
            });
            if(window.devicePixelRatio == 2) {
                canvas.width *= 2;
                canvas.height *= 2;
                canvas.style.width = canvas.width/2;
                canvas.style.height = canvas.height/2;
                scene.scale.set(2, 2);
            }

            console.profile("render");
            renderer.render(scene);
            console.profileEnd("render");
        });
    </script>
</body>
</html>